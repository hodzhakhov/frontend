<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>wlt add</title>
    <meta name="description" content="wlt app" />
    <meta name="keywords" content="wlt, crypto" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./css/add.css" />
    <script src="./scripts/tg.js"></script>
    <script>
      // Init TWA
      Telegram.WebApp.ready();

      // Event occurs whenever theme settings are changed in the user's Telegram app (including switching to night mode).
      Telegram.WebApp.onEvent("themeChanged", function () {
        document.documentElement.className = Telegram.WebApp.colorScheme;
      });

      // Show main button
      Telegram.WebApp.MainButton.setParams({
        text: "Main Button",
      });
      Telegram.WebApp.MainButton.onClick(function () {
        Telegram.WebApp.showAlert("Main Button was clicked");
      });

      console.log(Telegram.WebApp);
      Telegram.WebApp.BackButton.onClick(function () {
        Telegram.WebApp.close();
      });

      Telegram.WebApp.MainButton.show();
      // Function to call showPopup API
      function showPopup() {
        Telegram.WebApp.showPopup(
          {
            title: "Title",
            message: "Some message",
            buttons: [
              { id: "link", type: "default", text: "Open ton.org" },
              { type: "cancel" },
            ],
          },
          function (btn) {
            if (btn === "link") {
              Telegram.WebApp.openLink("https://ton.org/");
            }
          }
        );
      }

      // Function to toggle main TWA button
      function toggleMainButton() {
        if (Telegram.WebApp.MainButton.isVisible) {
          Telegram.WebApp.MainButton.hide();
        } else {
          Telegram.WebApp.MainButton.show();
        }
      }

      function backEvents() {
        navigate(-1);
      }

      function setViewportData() {
        var sizeEl = document.getElementById("viewport-params-size");
        sizeEl.innerText =
          "width: " +
          window.innerWidth +
          " x " +
          "height: " +
          Telegram.WebApp.viewportStableHeight;

        var expandEl = document.querySelector("#viewport-params-expand");
        expandEl.innerText =
          "Is Expanded: " + (Telegram.WebApp.isExpanded ? "true" : "false");
      }

      Telegram.WebApp.setHeaderColor("secondary_bg_color");

      setViewportData();
      Telegram.WebApp.onEvent("viewportChanged", setViewportData);

      Telegram.WebApp.onEvent("themeChanged", function () {
        document.body.setAttribute(
          "style",
          "--bg-color:" + Telegram.WebApp.backgroundColor
        );
      });
    </script>
    <script src="./scripts/add.js"></script>
  </head>
  <body>
    <main class="add">
      <div class="add__container">
        <h1 class="add__title">Receive ETH network assets</h1>
        <p class="add__description">
          Send only tokens in ETH Network to this address, otherwise you might
          lose your funds.
        </p>

        <div class="add__address">
          <p class="add__address-text">Your ETH address</p>
          <p class="add__address-code" id="displayAddress"></p>
          <p id="fullAddress" style="display: none">
            0x086847025b2b48E9829474b725DB13D045f81D79
          </p>
          <button class="add__copy-button" id="copyButton">Copy Address</button>

          <div
            id="copyNotification"
            class="add__notification"
            style="display: none"
          >
            Address copied to clipboard!
          </div>
        </div>
      </div>
    </main>
    <footer>
      <p id="load-time-info">Page load time: Calculating...</p>
    </footer>
  </body>
</html>
